#!/bin/bash
# Hardware Telemetry Configuration File
# This file defines the telemetry collection settings

# === COLLECTION SETTINGS ===
# Interval between telemetry snapshots (in seconds)
TELEMETRY_INTERVAL=60

# Output directory for telemetry logs
TELEMETRY_OUTPUT_DIR="./logs"

# Log file naming pattern
# Supported variables: {timestamp}, {date}, {time}, {hostname}
LOG_FILE_PATTERN="{hostname}_telemetry_{timestamp}.log"

# JSON output enabled (true/false)
JSON_OUTPUT=true

# CSV output enabled (true/false)
CSV_OUTPUT=true

# === MODULE ENABLE/DISABLE ===
# Enable or disable specific telemetry modules
ENABLE_CPU_TELEMETRY=true
ENABLE_MEMORY_TELEMETRY=true
ENABLE_STORAGE_TELEMETRY=true
ENABLE_NETWORK_TELEMETRY=true
ENABLE_GPU_TELEMETRY=true
ENABLE_MOTHERBOARD_TELEMETRY=true
ENABLE_THERMAL_TELEMETRY=true
ENABLE_POWER_TELEMETRY=true
ENABLE_PCIE_TELEMETRY=true
ENABLE_USB_TELEMETRY=true
ENABLE_RAID_TELEMETRY=true
ENABLE_BMC_TELEMETRY=true

# === DETAILED SETTINGS ===

# CPU Telemetry
CPU_COLLECT_FREQUENCY=true
CPU_COLLECT_TEMPERATURE=true
CPU_COLLECT_CACHE_STATS=true
CPU_COLLECT_THROTTLING=true
CPU_COLLECT_POWER=true

# Memory Telemetry
MEMORY_COLLECT_BANDWIDTH=true
MEMORY_COLLECT_ERRORS=true
MEMORY_COLLECT_TEMPERATURE=true
MEMORY_COLLECT_PER_DIMM=true

# Storage Telemetry
STORAGE_COLLECT_SMART=true
STORAGE_COLLECT_TEMPERATURE=true
STORAGE_COLLECT_WEAR_LEVEL=true
STORAGE_COLLECT_TRIM_STATUS=true
STORAGE_COLLECT_IO_STATS=true
STORAGE_COLLECT_NVME_HEALTH=true

# Network Telemetry
NETWORK_COLLECT_BANDWIDTH=true
NETWORK_COLLECT_ERRORS=true
NETWORK_COLLECT_DROPS=true
NETWORK_COLLECT_TEMPERATURE=true
NETWORK_COLLECT_LINK_STATUS=true
NETWORK_COLLECT_QUEUE_STATS=true

# GPU Telemetry
GPU_COLLECT_TEMPERATURE=true
GPU_COLLECT_USAGE=true
GPU_COLLECT_MEMORY=true
GPU_COLLECT_POWER=true
GPU_COLLECT_FAN_SPEED=true
GPU_COLLECT_CLOCK_SPEED=true

# Thermal Telemetry
THERMAL_COLLECT_ALL_SENSORS=true
THERMAL_ALERT_THRESHOLD=80

# Power Telemetry
POWER_COLLECT_CONSUMPTION=true
POWER_COLLECT_PSU_STATUS=true
POWER_COLLECT_BATTERY=true

# PCIe Telemetry
PCIE_COLLECT_LINK_STATUS=true
PCIE_COLLECT_ERRORS=true
PCIE_COLLECT_BANDWIDTH=true

# RAID Telemetry
RAID_COLLECT_ARRAY_STATUS=true
RAID_COLLECT_DISK_HEALTH=true
RAID_COLLECT_REBUILD_PROGRESS=true

# BMC/IPMI Telemetry
BMC_COLLECT_SENSORS=true
BMC_COLLECT_SEL=true
BMC_COLLECT_FRU=true

# === ALERT SETTINGS ===
ENABLE_ALERTS=true
ALERT_EMAIL=""
ALERT_WEBHOOK=""

# Temperature thresholds (Celsius)
ALERT_TEMP_CPU_CRITICAL=90
ALERT_TEMP_GPU_CRITICAL=85
ALERT_TEMP_STORAGE_WARNING=60
ALERT_TEMP_STORAGE_CRITICAL=70

# Storage health thresholds
ALERT_STORAGE_WEAR_WARNING=80
ALERT_STORAGE_WEAR_CRITICAL=90

# Network thresholds
ALERT_NETWORK_ERRORS_THRESHOLD=100
ALERT_NETWORK_DROPS_THRESHOLD=50

# === RETENTION SETTINGS ===
LOG_RETENTION_DAYS=30
AUTO_CLEANUP=true

# === ADVANCED SETTINGS ===
# Run with elevated privileges (required for some hardware access)
REQUIRE_ROOT=true

# Verbose logging
VERBOSE_MODE=false

# Debug mode (extra detailed logging)
DEBUG_MODE=false

# Continue on errors (don't stop if a module fails)
CONTINUE_ON_ERROR=true

# Parallel collection (collect from multiple modules simultaneously)
PARALLEL_COLLECTION=true
